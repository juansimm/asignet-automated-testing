# Solicitud de Agente Playwright

- Generado en: 2026-02-20T13:45:52Z
- Archivo semilla: `playwright/tests/seed.spec.ts`
- URL Target: Asignet IDE / TRIM (`https://ide.asignet.com/login`)
- Agentes: planificador -> generador -> corrector

## URL Target

- Nombre: Asignet IDE (private network) + TRIM
- Entry URL: `https://ide.asignet.com/login`
- SSO URL: `https://ide.asignet.com/sso.ashx`
- Regla: este flujo solo puede ejecutarse dentro de la VM Ubuntu conectada a la red privada Asignet.

## Input del Escenario

### Objetivo
Automatizar un flujo E2E real en TRIM:
1. Login en IDE con credenciales de entorno.
2. Entrar por SSO y seleccionar tarjeta `TRIM`.
3. Ir a `Service Orders`, hacer scroll y confirmar con botón `OK` en footer para crear ticket.
4. Volver a `Home`, ir a `Order Status` y validar que el ticket recién creado aparece en la lista de tickets recientes.

### Credenciales / Env requeridos
- `IDE_BASE_URL` (default `https://ide.asignet.com/`)
- `IDE_ASIGNET_USERNAME`
- `IDE_ASIGNET_PASSWORD`
- `RUN_IDE_ASIGNET_E2E=1` (opt-in explícito porque crea ticket real)

### Restricciones
- No hardcodear credenciales.
- Construir URLs de `/login` y `/sso.ashx` desde `IDE_BASE_URL`.
- Usar locators estables (role/label/text robusto) y fallback mínimo para UI legacy.
- Evitar flakiness: esperar navegación/DOM de forma explícita.
- El test debe poder ejecutarse en Chromium dentro de Ubuntu VM privada.
- Mantener el test encapsulado en archivo dedicado.

### Asserts Requeridos
1. Flujo auth exitoso:
   - iniciar en `/sso.ashx`,
   - si ya hay sesión, continuar al portal,
   - si no hay sesión, completar `/login` con user/password.
2. URL final auth en host IDE (`/sso.ashx` o `/page.ashx`).
3. Entrada exitosa a TRIM (header visible: `TRIM - Telecom Resources Information Management`).
4. Acción de creación en `Service Orders` ejecutada con click en `OK`.
5. En `Order Status`, validar evidencia del ticket nuevo:
   - preferido: ID de ticket visible en filas recientes, o
   - fallback: aparición de nueva fila respecto al baseline + match de usuario actual.

## Referencia Técnica

- Existe implementación manual inicial en:
  - `playwright/tests/asignet-trim-service-orders.spec.ts`
- Usarla solo como referencia funcional/base de selectors.
- El pipeline sigue siendo la fuente de verdad final (planner/generator/healer pueden ajustar o reemplazar).

## Salida Requerida

1. Planificador: crear plan detallado en markdown dentro de `specs/`.
2. Generador: crear/ajustar test Playwright ejecutable en `playwright/tests/`.
3. Corrector: ejecutar, depurar y estabilizar hasta verde en entorno VM.

## Criterio de Aceptación

- El flujo completo pasa en la VM privada.
- Se confirma creación del ticket en `Order Status`.
- El test falla con mensaje claro cuando no se puede confirmar el ticket nuevo.
